<h2>Kurser</h2>

<div class="filter">
    <label for="filter">Filtrera kurser:</label>
    <input type="text" id="filter" [(ngModel)]="filterValue" (input)="applyFilter()">
</div>

<div class="filter">
    <label for="subject">Välj ämne:</label>
    <select id="subject" [(ngModel)]="subjectFilter" (change)="applyFilter()">
        <option value="">Alla ämnen</option>
        <option *ngFor="let subject of subjects" [value]="subject">{{ subject }}</option>
    </select>
</div>

<table>
    <thead>
      <tr>
        <th (click)="sortData('courseCode')">Kurskod <span *ngIf="sortColumn === 'courseCode'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th>
        <th (click)="sortData('courseName')">Kursnamn <span *ngIf="sortColumn === 'courseName'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th>
        <th (click)="sortData('points')">Poäng <span *ngIf="sortColumn === 'points'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th>
        <th (click)="sortData('subject')">Ämne <span *ngIf="sortColumn === 'subject'">{{ sortDirection === 'asc' ? '▲' : '▼' }}</span></th>
        <th>Kursplan</th>
        <th>Åtgärder</th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let course of filteredCourseList | paginate: { itemsPerPage: itemsPerPage, currentPage: p }">
        <td>{{ course.courseCode }}</td>
        <td>{{ course.courseName }}</td>
        <td>{{ course.points }} hp</td>
        <td>{{ course.subject }}</td>
        <td><a href="{{ course.syllabus }}" target="_blank">Kursplan</a></td>
        <td><button (click)="addToSchedule(course)">Lägg till</button></td>
      </tr>
    </tbody>
  </table>

  <pagination-controls (pageChange)="p = $event" previousLabel="Föregående" nextLabel="Nästa"></pagination-controls>
